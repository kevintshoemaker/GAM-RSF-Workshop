"0",""
"0","set.seed(2)"
"0","bfuns <- random_bases(sm, data$x, draws = 20, k = k)"
"0",""
"0","smooth <- bfuns %>%"
"0","    group_by(draw, x) %>%"
"0","    summarise(spline = sum(y)) %>%"
"0","    ungroup()"
"0",""
"0","p1 <- ggplot(smooth) +"
"0","    geom_line(data = smooth, aes(x = x, y = spline), lwd = 1.5) +"
"0","    labs(y = 'f(x)', x = 'x') +"
"0","    theme_minimal(base_size = 16, base_family = 'Fira Sans')"
"0",""
"0","# smooth_funs <- animate("
"0","#     p1 + transition_states(draw, transition_length = 4, state_length = 2) + "
"0","#     ease_aes('cubic-in-out'), renderer = gifski_renderer(file = 'resources/spline-anim.gif'),"
"0","#     nframes = 200, height = anim_height, width = anim_width, res = anim_res, dev = anim_dev)"
"0",""
"0","# anim_save('resources/spline-anim.gif', smooth_funs)"
